<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Survey Package to Creel: A Translator • tidycreel</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Survey Package to Creel: A Translator">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidycreel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/effort_survey_first.html">Effort (Survey-First)</a></li>
    <li><a class="dropdown-item" href="../articles/aerial.html">Aerial Effort</a></li>
    <li><a class="dropdown-item" href="../articles/survey_creel_terms.html">Survey Terms → Creel Translator</a></li>
    <li><a class="dropdown-item" href="../articles/replicate_designs_creel.html">Replicate Designs for Creel</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chrischizinski/tidycreel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Survey Package to Creel: A Translator</h1>
            <h3 data-toc-skip class="subtitle">Design-based estimation
in creel terms</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chrischizinski/tidycreel/blob/main/vignettes/survey_creel_terms.Rmd" class="external-link"><code>vignettes/survey_creel_terms.Rmd</code></a></small>
      <div class="d-none name"><code>survey_creel_terms.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">opts_chunk</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>collapse <span class="op">=</span> <span class="cn">TRUE</span>, comment <span class="op">=</span> <span class="st">"#&gt;"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="why-this-guide">Why this guide<a class="anchor" aria-label="anchor" href="#why-this-guide"></a>
</h2>
<p>Many creel practitioners know the field methods and estimators but
are less familiar with the survey package vocabulary. This guide
“translates” survey’s core concepts into creel terms and shows how
tidycreel applies them with a survey-first workflow. See also
<code>creel_chapter.md</code> for background and references.</p>
</div>
<div class="section level2">
<h2 id="core-translation-concepts-and-terms">Core translation: concepts and terms<a class="anchor" aria-label="anchor" href="#core-translation-concepts-and-terms"></a>
</h2>
<ul>
<li>Population and Units:
<ul>
<li>PSUs (Primary Sampling Units): sampled days; sometimes day×stratum
if needed.</li>
<li>SSUs: count passes or interviews within a day; typically aggregated
to day totals.</li>
<li>Strata: calendar groupings (e.g., weekday/weekend, month, season,
area).</li>
</ul>
</li>
<li>Design metadata and weights:
<ul>
<li>target_sample vs actual_sample: planned vs realized number of
sampled PSUs in a stratum.</li>
<li>Day weights (w): expansion from sampled to target days; often w =
target_sample / actual_sample within stratum.</li>
<li>Inclusion probability (π): probability a unit is observed. For
bus-route HT, per-observation π enters directly.</li>
</ul>
</li>
<li>Estimators and variance:
<ul>
<li>Totals (svytotal): sum of day totals across sampled days with
design-based variance.</li>
<li>Means (svymean): average over PSUs; less common for creel
totals.</li>
<li>Ratios (svyratio): CPUE as catch/effort with design-based
variance.</li>
<li>Replicate designs (svrepdesign): bootstrap/jackknife/BRR when Taylor
SE is complex.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="survey-first-workflow-in-tidycreel">Survey-first workflow in tidycreel<a class="anchor" aria-label="anchor" href="#survey-first-workflow-in-tidycreel"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Build a day-PSU survey design from the calendar.</li>
<li>Aggregate raw counts to day×group totals (vectorized, tidy).</li>
<li>Use survey to get totals and SEs by group
(<code>svytotal</code>/<code>svyby</code>).</li>
<li>Prefer replicate-weight designs for complex cases.</li>
</ol>
<div class="section level3">
<h3 id="day-psu-design">1) Day-PSU design<a class="anchor" aria-label="anchor" href="#day-psu-design"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/chrischizinski/tidycreel" class="external-link">tidycreel</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Minimal, toy calendar: two sampled days, both intended 4 samples/stratum</span></span>
<span><span class="va">calendar</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2025-08-20"</span>, <span class="st">"2025-08-21"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  day_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"weekday"</span>, <span class="st">"weekday"</span><span class="op">)</span>,</span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Aug"</span>, <span class="st">"Aug"</span><span class="op">)</span>,</span>
<span>  target_sample <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  actual_sample <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">svy_day</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_day_svydesign.html">as_day_svydesign</a></span><span class="op">(</span><span class="va">calendar</span>, day_id <span class="op">=</span> <span class="st">"date"</span>, strata_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"day_type"</span>, <span class="st">"month"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">svy_day</span></span></code></pre></div>
<p>What this means in creel terms: each sampled day represents
<code>target_sample / actual_sample</code> similar days within its
stratum. survey carries that weight into variance estimation.</p>
</div>
<div class="section level3">
<h3 id="instantaneous-effort-from-counts">2) Instantaneous effort from counts<a class="anchor" aria-label="anchor" href="#instantaneous-effort-from-counts"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Toy snapshot counts for two locations over two days (minutes per snapshot)</span></span>
<span><span class="va">counts_inst</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">calendar</span><span class="op">$</span><span class="va">date</span>, each <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">9</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>  interval_minutes <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  total_day_minutes <span class="op">=</span> <span class="fl">600</span>  <span class="co"># e.g., 10-hour day window</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/est_effort.html">est_effort</a></span><span class="op">(</span></span>
<span>  design <span class="op">=</span> <span class="va">svy_day</span>,</span>
<span>  counts <span class="op">=</span> <span class="va">counts_inst</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"instantaneous"</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"location"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Interpretation: per day×location, effort_day = mean(count) ×
total_day_minutes / 60; totals and SEs come from the day design.</p>
</div>
<div class="section level3">
<h3 id="progressive-roving-effort">3) Progressive (roving) effort<a class="anchor" aria-label="anchor" href="#progressive-roving-effort"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Toy progressive (roving) pass counts with per-pass route minutes</span></span>
<span><span class="va">counts_prog</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">calendar</span><span class="op">$</span><span class="va">date</span>, each <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  pass_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span>,</span>
<span>  route_minutes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">45</span>, <span class="fl">45</span>, <span class="fl">45</span>, <span class="fl">45</span>, <span class="fl">45</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/est_effort.html">est_effort</a></span><span class="op">(</span></span>
<span>  design <span class="op">=</span> <span class="va">svy_day</span>,</span>
<span>  counts <span class="op">=</span> <span class="va">counts_prog</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"progressive"</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"location"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Interpretation: per day×location, sum(count × route_minutes)/60
across passes, then design-based totals.</p>
</div>
<div class="section level3">
<h3 id="aerial-effort-and-visibility">4) Aerial effort and visibility<a class="anchor" aria-label="anchor" href="#aerial-effort-and-visibility"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Aerial snapshots with a simple visibility factor (0-1)</span></span>
<span><span class="va">counts_air</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">calendar</span><span class="op">$</span><span class="va">date</span>, each <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span>, <span class="fl">12</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>  interval_minutes <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  total_day_minutes <span class="op">=</span> <span class="fl">600</span>,</span>
<span>  visibility <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.9</span>, <span class="fl">0.7</span>, <span class="fl">1.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/est_effort.aerial.html">est_effort.aerial</a></span><span class="op">(</span></span>
<span>  counts <span class="op">=</span> <span class="va">counts_air</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"location"</span>,</span>
<span>  minutes_col <span class="op">=</span> <span class="st">"interval_minutes"</span>,</span>
<span>  total_minutes_col <span class="op">=</span> <span class="st">"total_day_minutes"</span>,</span>
<span>  visibility_col <span class="op">=</span> <span class="st">"visibility"</span>,</span>
<span>  svy <span class="op">=</span> <span class="va">svy_day</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Interpretation: adjust counts by visibility, compute day totals, then
use the day design for totals/SEs.</p>
</div>
</div>
<div class="section level2">
<h2 id="cpue-and-harvest-in-brief">CPUE and Harvest (in brief)<a class="anchor" aria-label="anchor" href="#cpue-and-harvest-in-brief"></a>
</h2>
<ul>
<li>CPUE: a ratio estimator (<code>svyratio</code>) of catch to effort.
In creel terms, this means combining interview-derived catch with
associated effort, respecting the day-PSU design. A survey-first
<code><a href="https://rdrr.io/pkg/tidycreel/man/estimate_cpue.html" class="external-link">estimate_cpue()</a></code> aligned with tidy outputs is planned.</li>
<li>Harvest/Catch totals: use <code>svytotal</code> on interview-level
kept/total catch expanded by day weights, or a combined estimator that
multiplies effort and CPUE when appropriate (delta/replicate
methods).</li>
</ul>
</div>
<div class="section level2">
<h2 id="jargon-quick-map">Jargon quick map<a class="anchor" aria-label="anchor" href="#jargon-quick-map"></a>
</h2>
<ul>
<li>PSU (Primary Sampling Unit): sampled day (the primary “draw”).</li>
<li>Strata: calendar groups (weekday/weekend, month, season,
region).</li>
<li>Weight: expansion factor from sampled days to target days in a
stratum.</li>
<li>Inclusion probability (π): chance an observation appears (e.g.,
bus-route pass); enters HT contributions.</li>
<li>HT (Horvitz–Thompson) contribution: observed contribution divided by
π.</li>
<li>Taylor SE: analytic variance from survey; Replicate SE: via
bootstrap/jackknife/BRR with <code>svrepdesign</code>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="references-and-further-reading">References and further reading<a class="anchor" aria-label="anchor" href="#references-and-further-reading"></a>
</h2>
<ul>
<li>tidycreel design/estimation vignettes and function docs.</li>
<li>survey package documentation for <code>svydesign</code>,
<code>svytotal</code>, <code>svyratio</code>, <code>svyby</code>,
<code>svrepdesign</code>.</li>
<li>creel_chapter.md and creel_foundations.md in this repo for
statistical background.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Chizinski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
