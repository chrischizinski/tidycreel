% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qa-check-missing.R
\name{qa_check_missing}
\alias{qa_check_missing}
\title{Check for Missing Data Patterns}
\usage{
qa_check_missing(
  data,
  required_cols = NULL,
  important_cols = NULL,
  by_group = NULL,
  missing_threshold = 0.05,
  pattern_threshold = 5,
  check_monotonic = TRUE,
  date_col = NULL,
  max_patterns_to_show = 10
)
}
\arguments{
\item{data}{Survey data (interviews, counts, or other datasets)}

\item{required_cols}{Character vector of columns that should never be missing}

\item{important_cols}{Character vector of columns where missing data is
concerning but not critical}

\item{by_group}{Character vector of grouping variables to analyze missing
patterns within groups (e.g., by stratum, location, interviewer)}

\item{missing_threshold}{Proportion threshold above which missing data is
flagged as problematic (default 0.05 = 5\%)}

\item{pattern_threshold}{Minimum number of records required to identify
a systematic missing pattern (default 5)}

\item{check_monotonic}{Logical, whether to check for monotonic missing
patterns (increasing missingness over time) (default TRUE)}

\item{date_col}{Column containing date information for temporal analysis}

\item{max_patterns_to_show}{Maximum number of missing patterns to include
in results (default 10)}
}
\value{
List with:
\describe{
\item{issue_detected}{Logical, TRUE if missing data issues detected}
\item{severity}{"high", "medium", "low", or "none"}
\item{n_total}{Total number of records}
\item{n_complete_records}{Number of records with no missing values}
\item{completeness_rate}{Proportion of complete records}
\item{missing_by_column}{Missing data summary by column}
\item{missing_patterns}{Common missing data patterns}
\item{systematic_patterns}{Identified systematic missing patterns}
\item{temporal_patterns}{Missing data patterns over time (if date provided)}
\item{group_patterns}{Missing patterns by group (if grouping provided)}
\item{critical_missing}{Records missing required columns}
\item{recommendation}{Text guidance for remediation}
}
}
\description{
Analyzes missing data patterns to detect systematic gaps, non-response bias,
and data collection issues that may affect survey estimates (Table 17.3,
general data completeness).
}
\details{
\subsection{Missing Data Analysis}{
\enumerate{
\item \strong{Overall Completeness:}
\itemize{
\item Calculate missing data rates by column
\item Identify columns with excessive missing data
\item Flag records missing critical information
}
\item \strong{Missing Patterns:}
\itemize{
\item Identify common combinations of missing variables
\item Detect systematic patterns (e.g., always missing together)
\item Flag unusual missing patterns
}
\item \strong{Temporal Patterns:}
\itemize{
\item Analyze missing data trends over time
\item Detect periods with high missing rates
\item Identify monotonic missing patterns
}
\item \strong{Group Patterns:}
\itemize{
\item Compare missing rates across groups
\item Identify groups with systematic missing data
\item Detect interviewer or location effects
}
\item \strong{Non-Response Analysis:}
\itemize{
\item Identify potential non-response bias
\item Flag systematic refusal patterns
\item Analyze partial vs complete non-response
}
}
}

\subsection{Common Missing Data Issues}{
\itemize{
\item \strong{Required fields missing}: Date, location, basic catch info
\item \strong{Systematic refusal}: Anglers refusing certain questions
\item \strong{Interviewer effects}: Some interviewers missing more data
\item \strong{Temporal trends}: Increasing missingness over survey period
\item \strong{Equipment issues}: Missing data during certain periods
\item \strong{Training issues}: New staff missing more data
}
}
}
\examples{
\dontrun{
# Basic missing data analysis
missing_check <- qa_check_missing(interviews)

# With required and important columns specified
missing_check <- qa_check_missing(
  interviews,
  required_cols = c("date", "location", "catch_total"),
  important_cols = c("species", "length", "weight"),
  missing_threshold = 0.10
)

# Group-wise analysis
missing_check <- qa_check_missing(
  interviews,
  by_group = c("interviewer", "location"),
  date_col = "date",
  check_monotonic = TRUE
)

# Temporal pattern analysis
missing_check <- qa_check_missing(
  interviews,
  date_col = "survey_date",
  check_monotonic = TRUE,
  missing_threshold = 0.05
)
}

}
\seealso{
\code{\link{qa_checks}}
}
