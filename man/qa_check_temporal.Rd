% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qa-check-temporal.R
\name{qa_check_temporal}
\alias{qa_check_temporal}
\title{Check for Temporal Coverage Issues}
\usage{
qa_check_temporal(
  data,
  schedule = NULL,
  date_col = "date",
  time_col = NULL,
  stratum_col = NULL,
  location_col = NULL,
  min_coverage_proportion = 0.8,
  check_weekends = TRUE,
  check_seasons = TRUE,
  check_daily_hours = TRUE,
  min_days_per_stratum = 5
)
}
\arguments{
\item{data}{Survey data (counts or interviews) containing temporal information}

\item{schedule}{Survey schedule data (optional, for planned vs actual comparison)}

\item{date_col}{Column containing date information}

\item{time_col}{Column containing time information (optional)}

\item{stratum_col}{Column containing stratum identifiers (optional)}

\item{location_col}{Column containing location identifiers (optional)}

\item{min_coverage_proportion}{Minimum proportion of time periods that should
be sampled within each stratum (default 0.8 = 80\%)}

\item{check_weekends}{Logical, whether to specifically check weekend coverage
(default TRUE)}

\item{check_seasons}{Logical, whether to check seasonal coverage (default TRUE)}

\item{check_daily_hours}{Logical, whether to check coverage across hours of
day (default TRUE)}

\item{min_days_per_stratum}{Minimum number of days that should be sampled
per stratum (default 5)}
}
\value{
List with:
\describe{
\item{issue_detected}{Logical, TRUE if temporal coverage issues detected}
\item{severity}{"high", "medium", "low", or "none"}
\item{n_total}{Total number of records}
\item{n_strata}{Number of temporal strata}
\item{n_undersampled_strata}{Number of strata with insufficient coverage}
\item{n_missing_weekends}{Number of strata missing weekend coverage}
\item{n_missing_seasons}{Number of seasons with no coverage}
\item{n_gaps_daily_hours}{Number of hour periods with no coverage}
\item{coverage_by_stratum}{Coverage statistics by stratum}
\item{weekend_coverage}{Weekend vs weekday coverage summary}
\item{seasonal_coverage}{Coverage by season/month}
\item{hourly_coverage}{Coverage by hour of day}
\item{temporal_gaps}{Identified gaps in coverage}
\item{undersampled_strata}{Details of strata with poor coverage}
\item{recommendation}{Text guidance for remediation}
}
}
\description{
Detects gaps in temporal sampling coverage that may lead to biased
estimates due to incomplete representation of fishing activity patterns
(Table 17.3, #9).
}
\details{
\subsection{Detection Logic}{
\enumerate{
\item \strong{Stratum Coverage:}
\itemize{
\item Calculate sampling coverage within each temporal stratum
\item Flag strata below minimum coverage threshold
\item Check for completely unsampled strata
}
\item \strong{Weekend Coverage:}
\itemize{
\item Compare weekend vs weekday sampling intensity
\item Flag if weekends are systematically under-sampled
\item Important because fishing patterns differ on weekends
}
\item \strong{Seasonal Coverage:}
\itemize{
\item Check coverage across months/seasons
\item Flag missing seasonal periods
\item Detect seasonal sampling bias
}
\item \strong{Daily Hour Coverage:}
\itemize{
\item Analyze coverage across hours of the day
\item Flag systematic gaps (e.g., early morning, evening)
\item Important for effort estimation accuracy
}
\item \strong{Temporal Clustering:}
\itemize{
\item Detect if sampling is clustered in time
\item Flag long gaps between sampling periods
\item Check for systematic temporal bias
}
}
}

\subsection{Common Issues Detected}{
\itemize{
\item \strong{Weekend Gaps}: No weekend sampling in fishing season
\item \strong{Seasonal Bias}: Only summer sampling for year-round fishery
\item \strong{Hour Gaps}: Missing early morning or evening periods
\item \strong{Stratum Gaps}: Some strata completely unsampled
\item \strong{Clustering}: All sampling in short time periods
\item \strong{Holiday Gaps}: Missing major fishing holidays
}
}
}
\examples{
\dontrun{
# Basic temporal coverage check
temporal_check <- qa_check_temporal(
  counts,
  date_col = "date",
  stratum_col = "stratum"
)

# Comprehensive temporal validation
temporal_check <- qa_check_temporal(
  interviews,
  schedule = survey_schedule,
  date_col = "date",
  time_col = "time_start",
  stratum_col = "stratum",
  location_col = "location",
  check_weekends = TRUE,
  check_seasons = TRUE,
  check_daily_hours = TRUE
)

# Check against planned schedule
temporal_check <- qa_check_temporal(
  counts,
  schedule = planned_schedule,
  date_col = "date"
)
}

}
\seealso{
\code{\link{qa_checks}}, \code{\link{validate_calendar}}
}
