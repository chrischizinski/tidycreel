% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est-effort-instantaneous.R
\name{est_effort.instantaneous}
\alias{est_effort.instantaneous}
\title{Instantaneous Effort Estimator (survey-first)}
\usage{
est_effort.instantaneous(
  counts,
  by = c("date", "location"),
  minutes_col = c("interval_minutes", "count_duration", "flight_minutes"),
  total_minutes_col = c("total_minutes", "total_day_minutes", "block_total_minutes"),
  day_id = "date",
  covariates = NULL,
  svy = NULL,
  conf_level = 0.95
)
}
\arguments{
\item{counts}{Tibble/data.frame of instantaneous counts with columns:
\code{count}, a minutes column (one of \code{interval_minutes}, \code{count_duration},
or \code{flight_minutes}), grouping variables (e.g., \code{date}, \code{location}), and
optionally \code{total_day_minutes} or \code{total_minutes} for day-level expansion.}

\item{by}{Character vector of grouping variables (e.g., \code{date}, \code{location}).
Missing columns are ignored with a warning.}

\item{minutes_col}{Candidate name(s) for per-count minutes. The first present
is used.}

\item{total_minutes_col}{Candidate name(s) for day×group total minutes.
If absent, falls back to the sum of per-count minutes within the day×group
(warns).}

\item{day_id}{Day identifier (PSU), typically \code{date}, used to join with the
survey design.}

\item{covariates}{Optional character vector of additional grouping variables
(e.g., \code{shift_block}, \code{day_type}).}

\item{svy}{Optional \code{svydesign}/\code{svrepdesign} for day-level sampling design.}

\item{conf_level}{Confidence level for Wald CIs (default 0.95).}
}
\value{
Tibble with grouping columns, \code{estimate}, \code{se}, \code{ci_low}, \code{ci_high},
\code{n}, \code{method}, and a \code{diagnostics} list-column.
}
\description{
Estimate angler-hours from instantaneous (snapshot) counts using mean-count
expansion per day × group, then compute design-based totals and variance via
the \code{survey} package when a day-level design is supplied.
}
\details{
Effort per day×group = mean(count) × total_minutes ÷ 60.

Aggregates per-count observations to day × group totals and uses a
day-PSU survey design to compute totals/variance via the \code{survey} package.
When \code{svy} is not provided, a non-design fallback uses within-group
variability to approximate SE/CI; prefer a valid survey design for
defensible inference.
}
\seealso{
\code{\link[=as_day_svydesign]{as_day_svydesign()}}, \code{\link[survey:surveysummary]{survey::svytotal()}}, \code{\link[survey:svyby]{survey::svyby()}}.
}
