% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qa-check-effort.R
\name{qa_check_effort}
\alias{qa_check_effort}
\title{Check for Party-Level Effort Calculation Errors}
\usage{
qa_check_effort(
  interviews,
  effort_col = NULL,
  num_anglers_col = NULL,
  hours_fished_col = NULL,
  catch_col = NULL,
  party_id_col = NULL,
  tolerance = 0.01,
  max_hours = 24,
  min_hours = 0.1
)
}
\arguments{
\item{interviews}{Interview data}

\item{effort_col}{Column containing effort (angler-hours). If NULL and
hours_fished_col is provided, effort will be calculated from hours and anglers.}

\item{num_anglers_col}{Column containing number of anglers in party}

\item{hours_fished_col}{Column containing hours fished per angler or party}

\item{catch_col}{Column containing catch counts (for zero-effort validation)}

\item{party_id_col}{Column with party identifiers (optional)}

\item{tolerance}{Numeric tolerance for effort calculation validation (default 0.01)}

\item{max_hours}{Maximum reasonable hours fished (default 24)}

\item{min_hours}{Minimum reasonable hours fished (default 0.1)}
}
\value{
List with:
\describe{
\item{issue_detected}{Logical, TRUE if effort issues detected}
\item{severity}{"high", "medium", "low", or "none"}
\item{n_total}{Total number of interviews}
\item{n_effort_inconsistent}{Number with incorrect effort calculations}
\item{n_zero_effort}{Number with zero effort}
\item{n_zero_effort_with_catch}{Zero effort but non-zero catch}
\item{n_outliers}{Number with outlier effort values}
\item{outlier_records}{Sample of outlier records}
\item{effort_inconsistent_records}{Sample of records with calculation errors}
\item{effort_summary}{Summary statistics of effort distribution}
\item{decimal_error_candidates}{Records that may have decimal point errors}
\item{recommendation}{Text guidance for remediation}
}
}
\description{
Detects potential errors in party-level effort calculations, which
under/overestimates catch and harvest rates (Table 17.3, #8).
}
\details{
\subsection{Detection Logic}{
\enumerate{
\item \strong{Effort Calculation Validation:}
\itemize{
\item Check if effort = num_anglers x hours_fished
\item Flag inconsistencies (allowing for small rounding errors)
\item Recommend correction formula
}
\item \strong{Individual Effort Variation:}
\itemize{
\item Check for documented individual-level effort within parties
\item Flag if always assuming all anglers fished equal time
\item Recommend individual-level effort collection
}
\item \strong{Outlier Detection:}
\itemize{
\item Identify unusually high/low effort values
\item Flag trips > 24 hours or < 0.1 hours
\item Check for decimal point errors (e.g., 0.5 entered as 5)
}
\item \strong{Zero Effort with Catch:}
\itemize{
\item Flag records with catch > 0 but effort = 0 or missing
\item These create division-by-zero in CPUE calculations
}
}
}

\subsection{Severity Levels}{
\itemize{
\item \strong{High:} >20\% incorrect calculations OR zero effort with catch
\item \strong{Medium:} 5-20\% incorrect calculations OR many outliers
\item \strong{Low:} <5\% incorrect OR minor inconsistencies
\item \strong{None:} All effort calculations correct
}
}
}
\examples{
\dontrun{
library(tidycreel)

# Basic check
qa_result <- qa_check_effort(
  interviews,
  effort_col = "hours_fished",
  num_anglers_col = "num_anglers",
  hours_fished_col = "hours_per_angler"
)

# With catch validation
qa_result <- qa_check_effort(
  interviews,
  effort_col = "angler_hours",
  num_anglers_col = "num_anglers",
  hours_fished_col = "hours",
  catch_col = "catch_total"
)

if (qa_result$issue_detected) {
  print(qa_result$recommendation)
}
}

}
\references{
\emph{Analysis and Interpretation of Freshwater Fisheries Data, 2nd Edition.}
Chapter 17: Creel Surveys, Table 17.3.
}
