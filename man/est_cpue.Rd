% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est-cpue.R
\name{est_cpue}
\alias{est_cpue}
\title{CPUE Estimator (survey-first)}
\usage{
est_cpue(
  design,
  by = NULL,
  response = c("catch_total", "catch_kept", "weight_total"),
  effort_col = "hours_fished",
  mode = c("ratio_of_means", "mean_of_ratios"),
  conf_level = 0.95
)
}
\arguments{
\item{design}{A \code{svydesign}/\code{svrepdesign} built on interview data, or a
\code{creel_design} containing \code{interviews}. If a \code{creel_design} is supplied,
a minimal equal-weight design is constructed (warns).}

\item{by}{Character vector of grouping variables present in the interview
data (e.g., \code{c("target_species","location")}). Missing columns are
ignored with a warning.}

\item{response}{One of \code{"catch_total"}, \code{"catch_kept"}, or \code{"weight_total"}.
Determines the CPUE numerator.}

\item{effort_col}{Interview effort column for the denominator (default
\code{"hours_fished"}).}

\item{mode}{Estimation mode: \code{"ratio_of_means"} (default; preferred for
incomplete trips) or \code{"mean_of_ratios"} (for complete trips).}

\item{conf_level}{Confidence level for Wald CIs (default 0.95).}
}
\value{
Tibble with grouping columns, \code{estimate}, \code{se}, \code{ci_low}, \code{ci_high},
\code{n}, \code{method}, and a \code{diagnostics} list-column.
}
\description{
Design-based estimation of catch per unit effort (CPUE) using the
\code{survey} package. Supports ratio-of-means (recommended for incomplete trips)
and mean-of-ratios (for complete trips). Returns a tidy tibble with a
consistent schema across estimators.
}
\details{
\itemize{
\item Ratio-of-means: \code{svyratio(~response, ~effort_col)} optionally via
\verb{svyby(â€¦, by=~group, FUN=svyratio)}. This is robust when trips are
incomplete.
\item Mean-of-ratios: computes trip-level \code{response/effort_col} then uses
\code{svymean}/\code{svyby}. Prefer for complete trips with minimal zero-inflation.
}
}
\seealso{
\code{\link[survey:svyratio]{survey::svyratio()}}, \code{\link[survey:surveysummary]{survey::svymean()}}, \code{\link[survey:svyby]{survey::svyby()}}.
}
